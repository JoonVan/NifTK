<?xml version="1.0" encoding="utf-8"?>
<executable>
  <category>Registration</category>
  <title>F3D Control Grid to VTK PolyData</title>
  <description><![CDATA[Creates VTK polydata objects to visualise a NiftyReg reg_f3d deformation.]]></description>
  <version>@NIFTK_VERSION_STRING@</version>
  <documentation-url>http://cmic.cs.ucl.ac.uk/platform/niftk/current/html/index.html</documentation-url>
  <license>@NIFTK_COPYRIGHT@ @NIFTK_LICENSE_SHORT_STRING@</license>
  <contributor>John Hipwell</contributor>
  <acknowledgements><![CDATA[]]></acknowledgements>

  <parameters>

    <label>Inputs</label>
    <description><![CDATA[Input parameters]]></description>

    <image>
      <name>fileInputImage</name>
      <flag>i</flag>
      <longflag>image</longflag>
      <description>Input reference image</description>
      <label>Input Reference Image</label>
      <channel>input</channel>
    </image>

    <image>
      <name>fileInputControlGrid</name>
      <longflag>cpp</longflag>
      <description>Input NiftyReg 'reg_f3d' B-spline control grid nifti image.</description>
      <label>Input F3D Control Grid</label>
      <channel>input</channel>
    </image>

    <integer>
      <name>subSamplingFactor</name>
      <longflag>ssf</longflag>
      <description>Increasing this factor above unity will cause the deformation to be displayed at every nth control point in the grid.</description>
      <label>Control Grid Sub-Sampling Factor</label>
      <default>1</default>
      <constraints>
        <minimum>1</minimum>
        <maximum>99</maximum>
        <step>1</step>
      </constraints>
    </integer>

    <integer>
      <name>maxGridDimension</name>
      <longflag>mgd</longflag>
      <description>This number specifies the maximum number of grid points along any given axis, and hence limits the complexity of the generated VTK data to a level that can be displayed interactively.</description>
      <label>Maximum Grid Dimension</label>
      <default>32</default>
      <constraints>
        <minimum>3</minimum>
        <maximum>99</maximum>
        <step>1</step>
      </constraints>
    </integer>

    <float>
      <name>radius</name>
      <flag>r</flag>
      <longflag>radius</longflag>
      <description>The radius of the output control grid VTK spheres.</description>
      <label>Control Grid Sphere Radius</label>
      <default>0</default>
    </float>

  </parameters>

  <parameters>

    <label>Outputs</label>
    <description><![CDATA[Output parameters]]></description>

    <image>
      <name>fileOutputControlPoints</name>
      <longflag>opts</longflag>
      <description>Output VTK control grid points</description>      
      <label>Output Control Grid Points</label>
      <default>ControlGridPoints.vtk</default>
      <channel>output</channel>
    </image>

    <image>
      <name>fileOutputControlSpheres</name>
      <longflag>ospheres</longflag>
      <description>Output VTK control grid spheres</description>      
      <label>Output Control Grid Spheres</label>
      <default></default>
      <channel>output</channel>
    </image>

    <image>
      <name>fileOutputHedghog</name>
      <longflag>ohedgehog</longflag>
      <description>Output VTK deformation hedghog</description>      
      <label>Output Deformation Hedgehog</label>
      <default></default>
      <channel>output</channel>
    </image>

    <image>
      <name>fileOutputDeformationVectorField</name>
      <longflag>ovectors</longflag>
      <description>Output VTK deformation vector field (creates a VTK structured grid of arrow glyphs)</description>      
      <label>Output Deformation Vector Field</label>
      <default>DeformationVectorField.vtk</default>
      <channel>output</channel>
    </image>


    <image>
      <name>fileOutputControlGridPlaneXY</name>
      <longflag>oCGxy</longflag>
      <description>Output control point grid visualisation in the XY plane.</description>      
      <label>Output XY Control Grid</label>
      <default></default>
      <channel>output</channel>
    </image>

    <image>
      <name>fileOutputControlGridPlaneXZ</name>
      <longflag>oCGxz</longflag>
      <description>Output control point grid visualisation in the XZ plane.</description>      
      <label>Output XZ Control Grid</label>
      <default></default>
      <channel>output</channel>
    </image>

    <image>
      <name>fileOutputControlGridPlaneYZ</name>
      <longflag>oCGyz</longflag>
      <description>Output control point grid visualisation in the YZ plane.</description>      
      <label>Output YZ Control Grid</label>
      <default></default>
      <channel>output</channel>
    </image>


    <image>
      <name>fileOutputDeformationPlaneXY</name>
      <longflag>oDefxy</longflag>
      <description>Output deformation visualisation in the XY plane.</description>      
      <label>Output XY Deformation</label>
      <default>DeformationXY.vtk</default>
      <channel>output</channel>
    </image>

    <image>
      <name>fileOutputDeformationPlaneXZ</name>
      <longflag>oDefxz</longflag>
      <description>Output deformation visualisation in the XZ plane.</description>      
      <label>Output XZ Deformation</label>
      <default>DeformationXZ.vtk</default>
      <channel>output</channel>
    </image>

    <image>
      <name>fileOutputDeformationPlaneYZ</name>
      <longflag>oDefyz</longflag>
      <description>Output deformation visualisation in the YZ plane.</description>      
      <label>Output YZ Deformation</label>
      <default>DeformationYZ.vtk</default>
      <channel>output</channel>
    </image>

  </parameters>

</executable>

<?xml version="1.0" encoding="utf-8"?>
<executable>
  <category>Laparoscopic Demo</category>
  <title>Caffe Segmentation</title>
  <description><![CDATA[Segments an image into foreground/background using a Caffe.]]></description>
  <version>@NIFTK_VERSION_STRING@</version>
  <documentation-url>http://cmic.cs.ucl.ac.uk/platform/niftk/current/html/index.html</documentation-url>
  <license>@NIFTK_COPYRIGHT@ @NIFTK_LICENSE_SHORT_STRING@</license>
  <contributor>Matt Clarkson</contributor>
  <acknowledgements><![CDATA[]]></acknowledgements>

  <parameters>
    <label>IO</label>
    <description><![CDATA[Input/output parameters]]></description>
    
    <file fileExtensions=".prototxt">
      <name>model</name>
      <longflag>model</longflag>
      <description>Network model</description>
      <label>Network Model</label>
      <channel>input</channel>
    </file>

    <file fileExtensions=".caffemodel">
      <name>weights</name>
      <longflag>weights</longflag>
      <description>Network weights</description>
      <label>Network Weights</label>
      <channel>input</channel>
    </file>

  </parameters>

  <parameters>
    <label>Optional Parameters</label>
    <description><![CDATA[Optional Parameters]]></description>


    <file fileExtensions=".png,.bmp">
      <name>inputImage</name>
      <longflag>inputImage</longflag>
      <description>An image to segment</description>
      <label>Input Image</label>
      <channel>input</channel>
    </file>

    <file fileExtensions=".png">
      <name>outputImage</name>
      <longflag>outputImage</longflag>
      <description>The output segmented image</description>
      <label>Output Image</label>
      <channel>output</channel>
    </file>

    <directory>
      <name>inputDir</name>
      <longflag>inputDir</longflag>
      <description>A directory containing many images.</description>
      <label>Input Directory</label>
      <channel>input</channel>
    </directory>

    <string>
      <name>inputLayer</name>
      <longflag>inputLayer</longflag>
      <description>Name of the MemoryData layer in Caffe architecture.</description>
      <label>Input Layer</label>
      <default>data</default>
    </string>

    <string>
      <name>outputBlob</name>
      <longflag>outputBlob</longflag>
      <description>Name of the output predication blob in Caffe architecture.</description>
      <label>Output blob</label>
      <default>prediction</default>
    </string>

    <boolean>
      <name>gpu</name>
      <longflag>gpu</longflag>
      <description>Use GPU if available</description>
      <label>Use GPU</label>
      <default>0</default>
    </boolean>

    <float-vector>
      <name>offset</name>
      <longflag>offset</longflag>
      <description>Value to add to input pixel.</description>
      <label>offset</label>
      <default>0,0,0</default>
      <channel>input</channel>
    </float-vector>

  </parameters>

</executable>
